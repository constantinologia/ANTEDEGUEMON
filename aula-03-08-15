requir 'socket'
serverSocket = TCPServe.new(2000)
clientSocket = clientSocket.accept
begin
  nome_arquivo = clientSocket.gets.chomp
  tamanho_arquivo = clientSocket.gets.chomp.to_i
  bytes_arquivo = clientSocket.read (tamanho_arquio)
  arquivo = File.new("copia_#{nome_arquivo}", "wb")
  arquivo.syswrite(bytes_arquivo)
ensure
  serverSocket.close
end
